<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <mat-toolbar    class="navbar navbar-expand-lg navbar-light" style="width: 1300px; background-color: #E9DCD3;">
                <!-- Container wrapper -->
                <div class="container-fluid">
                <!-- Navbar brand -->
                <a  class="navbar-brand"  href="#"><img width="60px" src="../../assets/logo.png" alt=""></a>
            
                
            
                <!-- Collapsible wrapper -->
                <div
                    class="collapse navbar-collapse"
                    id="navbarSupportedContent"
                    mdbCollapse
                    
                >
                    <!-- Left links -->
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" (click)='myAdsFlag()' style=" color: #ffac2f;; font-size: smaller; ">Moji Oglasi</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" (click)='newAdFlag()'style=" color: #ffac2f;; font-size: smaller;  " >Dodaj Oglas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" (click)='nalogFlag()'  style=" color: #ffac2f;; font-size: smaller;  ">Nalog</a>
                    </li>
                   

                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" (click)='logOut()'style=" color: #ffac2f;; font-size: smaller;  ">Log out</a>
                    </li>
                    </ul>
                    <!-- Left links -->
            
                    
                    
                </div>
                <!-- Collapsible wrapper -->
                </div>
                <!-- Container wrapper -->
            </mat-toolbar >
        </div>
    </div>
     <div class="row">
        <div class="col-sm-12">
            <div id="form" *ngIf='newAdF' style="margin-top: 30px;">
                <h1>Putem JSON fajla</h1>
                <stepper-errors-example></stepper-errors-example>
                <hr/>
                <h1>Putem forme</h1>
                <form style="margin-left: 370px; margin-top: 30px;">
                    <table>
                        <tr>
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Naziv</mat-label>
                                    <input name="naziv" [(ngModel)]='naziv' matInput>
                                  </mat-form-field>
                            </td>
                        
                            
                            <td>
                                
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Tip</mat-label>
                                    <mat-select  name="type" [(ngModel)]='tip'>
                                        <mat-option value="Stan">Stan</mat-option>
                                        <mat-option value="Kuca">Kuca</mat-option>
                                        <mat-option value="Vikendica">Vikendica</mat-option>
                                        <mat-option value="Lokal">Lokal</mat-option>
                                        <mat-option value="Magacin">Magacin</mat-option>
                                    </mat-select>
                                  </mat-form-field>

                            </td>
                        </tr>
                        <tr>
                            
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Grad</mat-label>
                                    <mat-select  name="city" (selectionChange)='getStates()' id="" [(ngModel)]='city'>
                                        <mat-option value="{{city.name}}" *ngFor='let city of cities'>
                                            {{city.name}}
                                        </mat-option>
                                    </mat-select>
                                  </mat-form-field>
                               
                            </td>
                        
                          
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Opstina</mat-label>
                                    <mat-select name="state" id="" [(ngModel)]='state'>
                                        <mat-option value="{{state}}" *ngFor='let state of states'>
                                            {{state}}
                                        </mat-option>
                                    </mat-select>
                                  </mat-form-field>
                               
                            </td>
                        </tr>
                        <tr>
                            
                            <td>
                               
                                <mat-form-field appearance="fill">
                                    <mat-label>Mikrolokacija</mat-label>
                                    <mat-select name="microlocation" id="" [(ngModel)]='microlocation'>
                                        <mat-option value="{{microlocation.name}}" *ngFor='let microlocation of microlocations'>
                                            {{microlocation.name}}
                                        </mat-option>
                                     
                                    </mat-select>
                                  </mat-form-field>
                               
                            </td>
                        
                            
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Ulica</mat-label>
                                    <mat-select  name="street" id="" [(ngModel)]='street'>
                                        <mat-option value="{{street.name}}" *ngFor='let street of streets'>
                                            {{street.name}}
                                        </mat-option>
                                     
                                    </mat-select>
                                  </mat-form-field>
                               
                            </td>
                        </tr>
                        <tr>
                            
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Godina Izgradnje</mat-label>
                                    <input type="number" name="year" [(ngModel)]='godina'matInput>
                                  </mat-form-field>
                            </td>
                       
                            <td>
                               
                                <mat-form-field appearance="fill">
                                    <mat-label>Povrsina</mat-label>
                                    <input type="number" name="surface" [(ngModel)]='povrsina'matInput>
                                  </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Sprat</mat-label>
                                    <input type="number" name="floor" [(ngModel)]='sprat'matInput>
                                  </mat-form-field>
                            </td>
                        
                            
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Ukupna Spratnost</mat-label>
                                    <input type="number" name="totalFloors" [(ngModel)]='ukupnoSpratova'matInput>
                                  </mat-form-field>
                            </td>
                        
                            
                           
                        </tr>
                        <tr>
                           
                            <td>
                               
                                <mat-form-field appearance="fill">
                                    <mat-label>Broj Soba</mat-label>
                                    <input type="number" name="rooms" [(ngModel)]='sobe'matInput>
                                  </mat-form-field>
                            </td>
                        
                            
                            <td>
                                
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Stanje</mat-label>
                                    <mat-select name="stanje" id="" [(ngModel)]='stanje'>
                                        <mat-option value="izvorno">Izvorno</mat-option>
                                        <mat-option value="renovirano">Renovirano</mat-option>
                                        <mat-option value="lux">LUX</mat-option>
                                    </mat-select>
                                  </mat-form-field>
                            </td>
                            
                        </tr>
                        <tr>
                          
                           
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Tip Grejanja</mat-label>
                                    <mat-select  name="grejanje" id="" [(ngModel)]='grejanje'>
                                        <mat-option value="Toplotne Pumpe">Toplotne Pumpe</mat-option>
                                        <mat-option value="Gas">Gas</mat-option>
                                        <mat-option value="Podno grejanje">Podno Grejanje</mat-option>
                                        <mat-option value="TA">TA</mat-option>
                                        <mat-option value="EG">EG</mat-option>
                                        <mat-option value="CG">CG</mat-option>
                                    </mat-select>
                                  </mat-form-field>
                                
                            </td>
                        
                            
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Opis</mat-label>
                                    <textarea cols="22" rows="4"  name="opis" [(ngModel)]='opis' matInput></textarea>
                                  </mat-form-field>
                                
                            </td>
                        </tr>
                        <tr>
                            
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Cena</mat-label>
                                    <input type="number" name="cena" [(ngModel)]='cena'matInput>
                                  </mat-form-field>
                            </td>
                        
                            
                            <td>
                                
                                <mat-form-field appearance="fill">
                                    <mat-label>Mesecne Rezije</mat-label>
                                    <input type="number" name="rezije" [(ngModel)]='rezije'matInput>
                                  </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            
                            <td colspan="2">
                                <mat-form-field appearance="fill" >
                                    <mat-label>Bus Linije</mat-label>
                                    <mat-select name="busLines" [(ngModel)]='busLines' multiple>
                                        <mat-option value="25">25</mat-option>
                                        <mat-option value="25P">25P</mat-option>
                                        <mat-option value="26">26</mat-option>
                                        <mat-option value="32">32</mat-option>
                                        <mat-option value="35">35</mat-option>
                                        <mat-option value="43">43</mat-option>
                                        <mat-option value="44">44</mat-option>
                                        <mat-option value="74">74</mat-option>
                                        <mat-option value="95">95</mat-option>
                                        <mat-option value="96">96</mat-option>
                                        <mat-option value="101">101</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                
                                
                            </td>
                        </tr>
                        <tr>
                           
                            <td style="text-align: start;" >
                                <mat-checkbox class="example-margin" id="terasa" value="Terasa" name="Terasa" [(ngModel)]='terasa'>Terasa</mat-checkbox>
                               
                                <br/>
                                <mat-checkbox class="example-margin"id="lodja" value="Lodja" name="Lodja" [(ngModel)]='lodja'>Lodja</mat-checkbox>
                               
                                <br/>
                                <mat-checkbox class="example-margin" id="balkon" value="Franc.Balkon" name="Franc.Balkon" [(ngModel)]='balkon'>Balkon</mat-checkbox>
                                
                                <br/>
                                <mat-checkbox class="example-margin" id="lift" value="Lift" name="Lift" [(ngModel)]='lift'>Lift</mat-checkbox>
                               
                                <br/>
                                <mat-checkbox class="example-margin"id="podrum" value="Podrum" name="Podrum" [(ngModel)]='podrum'>Podrum</mat-checkbox>
                                
                                <br/>
                                <mat-checkbox class="example-margin"id="garaza" value="Garaza" name="Garaza" [(ngModel)]='garaza'>Garaza</mat-checkbox>
                             </td>
                             <td>   
                                <br/>
                                <mat-checkbox class="example-margin"id="basta" value="Sa bastom" name="basta" [(ngModel)]='basta'>Basta</mat-checkbox>
                               
                                <br/>
                                <mat-checkbox class="example-margin"id="klima" value="Klima" name="Klima" [(ngModel)]='klima'>Klima</mat-checkbox>
                                
                                <br/>
                                <mat-checkbox class="example-margin"id="internet" value="Internet" name="Internet" [(ngModel)]='internet'>Internet</mat-checkbox>
                                
                                <br/>
                                <mat-checkbox class="example-margin"id="interfon" value="Interfon" name="Interfon" [(ngModel)]='interfon'>Interfon</mat-checkbox>
                                
                                <br/>
                                <mat-checkbox class="example-margin"id="telefon" value="Telefon" name="Telefon" [(ngModel)]='telefon'>Telefon</mat-checkbox>
                                
                                <br/>
                                <mat-checkbox class="example-margin"id="parking" value="Parking" name="Parking" [(ngModel)]='parking'>Parking</mat-checkbox>
                               
                                <br/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <button type="button" mat-raised-button (click)="fileInput.click()">Izaberi Slike</button>
                        <input hidden multiple="" (change)="onFileChange($event)" #fileInput type="file" id="file" accept=".jpg,.png">
                               
                                
                            </td>
                        </tr>
                       
                        <tr>
                            <td colspan="2">
                                <button mat-button (click)='newAdd()' class="button" id="loginBtn">Add</button>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                {{allFields}}
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
            <div *ngIf='myAdsF' style="margin-top: 30px;">
                <h1>Moji Oglasi</h1>
                <mat-table [dataSource]="myAds" class="mat-elevation-z8" >

                    <ng-container matColumnDef="Naziv">
                        <mat-header-cell *matHeaderCellDef> Naziv </mat-header-cell>
                        <mat-cell *matCellDef="let element"> {{element.naziv}} </mat-cell>
                      </ng-container>
                    
                      <!-- Name Column -->
                      <ng-container matColumnDef="Cena">
                        <mat-header-cell *matHeaderCellDef> Cena</mat-header-cell>
                        <mat-cell *matCellDef="let element"> {{element.cena}} </mat-cell>
                      </ng-container>
                    
                    
                    
                      <ng-container matColumnDef="Izmeni">
                        <mat-header-cell *matHeaderCellDef> Izmeni </mat-header-cell>
                        <mat-cell *matCellDef="let element" > <button mat-button (click)='changeAd(element)'>Izmeni</button> </mat-cell>
                      </ng-container>
                      <ng-container matColumnDef="Prodaj">
                        <mat-header-cell *matHeaderCellDef> Prodaj </mat-header-cell>
                        <mat-cell *matCellDef="let element" >
                            <td *ngIf='element.status=="Dostupno"'><button mat-button (click)='sellAd(element)'>Prodaj</button></td>
                            <td *ngIf='element.status=="Prodato"'>PRODATO</td> </mat-cell>
                      </ng-container>
                    
                      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                  
                </mat-table>
                
            </div>
            <div *ngIf='changeAdF'>
                <app-ad-form></app-ad-form>
            </div>
        </div>
    </div> 
    <div class="row" *ngIf='nalogF'>
        <div class="col-sm-12" style="text-align: center;">
            <h1 style="margin-bottom: 20px;">Promeni Lozinku</h1>
        <table style="margin-left: 520px;">
           
            <tr>
                
                <td>
                    
                    <mat-form-field appearance="fill">
                        <mat-label>Stara Lozinka</mat-label>
                        <input matInput name="oldPassword" [(ngModel)]='oldPassword'>
                      </mat-form-field>
                </td>
            </tr>
            <tr>
                <td colspan="2" class="error">{{oldPasswordError}}</td>
            </tr>
            <tr>
                
                <td>
                    
                    <mat-form-field appearance="fill">
                        <mat-label>Nova Lozinka</mat-label>
                        <input matInput name="newPassword" [(ngModel)]='newPassword'>
                      </mat-form-field>
                </td>
            </tr>
            <tr>
                <td colspan="2" class="error">{{newPasswordError}}</td>
            </tr>
            <tr>
                
                <td>
                    <mat-form-field appearance="fill">
                        <mat-label>Ponovi Novu Lozinku</mat-label>
                        <input matInput name="newPasswordAgain" [(ngModel)]='newPasswordAgain'>
                      </mat-form-field>
                </td>
            </tr>
            <tr>
                <td colspan="2" class="error">{{againPasswordError}}</td>
            </tr>
           
        
            <tr>
                <td colspan="2">
                    <button (click)='newPass()' mat-button class="button" id="loginBtn">Promeni Lozinku</button>
                </td>
            </tr>
            
        </table>
        <hr/>
        <h1 style="margin-bottom: 20px;">Podesavanja naloga</h1>
        <table style="margin-left: 520px;" >
           
            <tr>
                
                <td>
                   
                    <mat-form-field appearance="fill">
                        <mat-label>Broj telefona</mat-label>
                        <input matInput name="phoneNumber" [(ngModel)]='user.phoneNumber'>
                      </mat-form-field>
                </td>
            </tr>
            <tr>
                <td colspan="2"></td>
            </tr>
            <tr>
                
                <td>
                    
                    <mat-form-field appearance="fill">
                        <mat-label>Email</mat-label>
                        <input matInput name="email" [(ngModel)]='user.email'>
                      </mat-form-field>
                </td>
            </tr>
            <tr>
                <td colspan="2" class="error">{{emailError}}</td>
            </tr>
            <tr>
                
                <td>
                    
                  
                    <mat-form-field appearance="fill">
                        <mat-label>Agencija</mat-label>
                        <mat-select  name="agency" [(ngModel)]='user.agency' >
                            <mat-option *ngFor='let a of agencies' value={{a.name}}>{{a.name}}</mat-option>
                        </mat-select>
                      </mat-form-field>
                </td>
            </tr>
           
        
            <tr>
                <td colspan="2">
                    <button (click)='update()' mat-button class="button" id="loginBtn">Azuriraj Podatke</button>
                </td>
            </tr>
            
        </table>
        <hr/>
        <!-- <ejs-chart id="chart-container" [primaryXAxis]='primaryXAxis'>
            <e-series-collection>
                <e-series [dataSource]='chartData' type='Line' xName='month' yName='sales' name='Sales'></e-series>
            </e-series-collection>
        </ejs-chart>` -->
            <h2 *ngIf='flag'>Broj Prodatih Nekretnina Agencije Po Mesecima</h2>
            <h2 *ngIf='flag==false'>Broj Prodatih Nekretnina Svih Oglasivaca Po Mesecima</h2>
      
            <app-chart  [List]='Ads'></app-chart>
        </div>
        
    </div>

</div>
<div *ngIf>

</div>
